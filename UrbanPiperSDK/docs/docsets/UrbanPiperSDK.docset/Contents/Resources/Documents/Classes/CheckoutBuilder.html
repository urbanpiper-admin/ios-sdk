<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CheckoutBuilder Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/CheckoutBuilder" class="dashAnchor"></a>

    <a title="CheckoutBuilder Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          UrbanPiperSDK Docs
        </a>
         (42% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">UrbanPiperSDK Reference</a>
      <img class="carat" src="../img/carat.png" />
      CheckoutBuilder Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/AddUpdateAddressResponse.html">AddUpdateAddressResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/BannersResponse.html">BannersResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CategoriesResponse.html">CategoriesResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CategoryItemsResponse.html">CategoryItemsResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CategoryOptionsResponse.html">CategoryOptionsResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CheckoutBuilder.html">CheckoutBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/GenericResponse.html">GenericResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/GooglePlacesResponse.html">GooglePlacesResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Item.html">Item</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ItemOptionBuilder.html">ItemOptionBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ItemOptionGroup.html">ItemOptionGroup</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ItemsSearchResponse.html">ItemsSearchResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/LoginResponse.html">LoginResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/NotificationsResponse.html">NotificationsResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/OffersAPIResponse.html">OffersAPIResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Order.html">Order</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/OrderResponse.html">OrderResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/OrderVerifyTxnResponse.html">OrderVerifyTxnResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PastOrderDetailsResponse.html">PastOrderDetailsResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PastOrdersResponse.html">PastOrdersResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PaymentInitResponse.html">PaymentInitResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PreProcessOrderResponse.html">PreProcessOrderResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/RedeemRewardResponse.html">RedeemRewardResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/RegistrationBuilder.html">RegistrationBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/RegistrationResponse.html">RegistrationResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ReorderResponse.html">ReorderResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ResetPasswordBuilder.html">ResetPasswordBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/RewardsResponse.html">RewardsResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SocialLoginResponse.html">SocialLoginResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SocialRegBuilder.html">SocialRegBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/StoreListResponse.html">StoreListResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/StoreResponse.html">StoreResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UPError.html">UPError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UrbanPiperSDK.html">UrbanPiperSDK</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserAddressesResponse.html">UserAddressesResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserInfoResponse.html">UserInfoResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserInfoUpdateResponse.html">UserInfoUpdateResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserLikesResponse.html">UserLikesResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/VersionCheckResponse.html">VersionCheckResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WalletTransactionResponse.html">WalletTransactionResponse</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/CartError.html">CartError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DeliveryOption.html">DeliveryOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ItemOptionBuilderError.html">ItemOptionBuilderError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/PaymentOption.html">PaymentOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SDKEvent.html">SDKEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SocialLoginProvider.html">SocialLoginProvider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/NSNotification.html">NSNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/NSNotification/Name.html">– Name</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:13UrbanPiperSDK13APICompletiona">APICompletion</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>CheckoutBuilder</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">CheckoutBuilder</span> <span class="p">:</span> <span class="kt">NSObject</span></code></pre>

                </div>
              </div>
            <p>A helper class that contains the related api&rsquo;s to place an order. The api&rsquo;s have to be called in the following order.</p>

<p>CheckoutBuilder is initialized by calling <code><a href="../Classes/UrbanPiperSDK.html#/s:13UrbanPiperSDKAAC13startCheckoutAA0E7BuilderCyF">UrbanPiperSDK.startCheckout(...)</a></code>.</p>

<ul>
<li><code>validateCart(...)</code> calling this function invalidates the previous calls to <code>validateCoupon(...)</code>, and <code>initPayment(...)</code>, the response values of both the calls should be discarded</li>
<li><code>validateCoupon(...)</code>, call this function to apply a coupon, this call can be skipped if no coupon is applied, calling this function invalidates the previous calls to <code>initPayment(...)</code>, the response values of the call should be discarded</li>
<li><code>initPayment(...)</code>, returns you details on the payment option selected, for payment option cash on delivery this api call can be skipped and the placeOrder function can be called directly</li>
<li><code>placeOrder(...)</code>, places the order if there are no errors in the provided data</li>
<li><code>verifyPayment(...)</code>, if the selected option is a payment gateway call this function to verify the payment transaction, for other payment options this function can be skipped</li>
</ul>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13UrbanPiperSDK15CheckoutBuilderC15getPaymentModesSayAA0G6OptionOGSgyF"></a>
                    <a name="//apple_ref/swift/Method/getPaymentModes()" class="dashAnchor"></a>
                    <a class="token" href="#/s:13UrbanPiperSDK15CheckoutBuilderC15getPaymentModesSayAA0G6OptionOGSgyF">getPaymentModes()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a list of payment options supported by the business, the <code><a href="../Classes/CheckoutBuilder.html#/s:13UrbanPiperSDK15CheckoutBuilderC12validateCart5store16useWalletCredits14deliveryOption9cartItems10orderTotal10completion7failureSo20NSURLSessionDataTaskCSgAA5StoreC_SbAA08DeliveryM0OSayAA0G4ItemCGSo9NSDecimalayAA23PreProcessOrderResponseCSgcSgyAA7UPErrorCSgcSgtF">validateCart(...)</a></code>, API has to be called atleast once to return the payment options</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">getPaymentModes</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt"><a href="../Enums/PaymentOption.html">PaymentOption</a></span><span class="p">]?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13UrbanPiperSDK15CheckoutBuilderC12validateCart5store16useWalletCredits14deliveryOption9cartItems10orderTotal10completion7failureSo20NSURLSessionDataTaskCSgAA5StoreC_SbAA08DeliveryM0OSayAA0G4ItemCGSo9NSDecimalayAA23PreProcessOrderResponseCSgcSgyAA7UPErrorCSgcSgtF"></a>
                    <a name="//apple_ref/swift/Method/validateCart(store:useWalletCredits:deliveryOption:cartItems:orderTotal:completion:failure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13UrbanPiperSDK15CheckoutBuilderC12validateCart5store16useWalletCredits14deliveryOption9cartItems10orderTotal10completion7failureSo20NSURLSessionDataTaskCSgAA5StoreC_SbAA08DeliveryM0OSayAA0G4ItemCGSo9NSDecimalayAA23PreProcessOrderResponseCSgcSgyAA7UPErrorCSgcSgtF">validateCart(store:useWalletCredits:deliveryOption:cartItems:orderTotal:completion:failure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>API call to validate the items in cart, get the supported payments options, get order details such as taxes, delivery charges, payment charges etc.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">validateCart</span><span class="p">(</span><span class="nv">store</span><span class="p">:</span> <span class="kt">Store</span><span class="p">,</span>
                         <span class="nv">useWalletCredits</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">,</span>
                         <span class="nv">deliveryOption</span><span class="p">:</span> <span class="kt"><a href="../Enums/DeliveryOption.html">DeliveryOption</a></span><span class="p">,</span>
                         <span class="nv">cartItems</span><span class="p">:</span> <span class="p">[</span><span class="kt">CartItem</span><span class="p">],</span>
                         <span class="nv">orderTotal</span><span class="p">:</span> <span class="kt">Decimal</span><span class="p">,</span>
                         <span class="nv">completion</span><span class="p">:</span> <span class="p">((</span><span class="kt"><a href="../Classes/PreProcessOrderResponse.html">PreProcessOrderResponse</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?,</span> <span class="nv">failure</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">URLSessionDataTask</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>store</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The store at which the order is to placed</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>useWalletCredits</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Setting this variable as true enables spilt payment where one part of the payment can be made using the user&rsquo;s wallet amount and the rest from the selected payment option.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>deliveryOption</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The delivery option selected by the user</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>cartItems</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The user added items from the cart</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>orderTotal</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The total value of the cart</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK13APICompletiona">APICompletion</a></code> with <code><a href="../Classes/PreProcessOrderResponse.html">PreProcessOrderResponse</a></code> which contains order details like taxes, delivery charges, payment charges etc.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>failure</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></code> closure with <code><a href="../Classes/UPError.html">UPError</a></code></p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An instance of URLSessionDataTask</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13UrbanPiperSDK15CheckoutBuilderC14validateCoupon4code10completion7failureSo20NSURLSessionDataTaskCSgSS_yAA5OrderCSgcSgyAA7UPErrorCSgcSgtF"></a>
                    <a name="//apple_ref/swift/Method/validateCoupon(code:completion:failure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13UrbanPiperSDK15CheckoutBuilderC14validateCoupon4code10completion7failureSo20NSURLSessionDataTaskCSgSS_yAA5OrderCSgcSgyAA7UPErrorCSgcSgtF">validateCoupon(code:completion:failure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Apply a coupon to the cart items using this function, the coupon code can either be a code from the <code><a href="../Classes/UrbanPiperSDK.html#/s:13UrbanPiperSDKAAC9getOffers6offset5limit10completion7failureSo20NSURLSessionDataTaskCSi_SiSgyAA0E11APIResponseCSgcyAA7UPErrorCSgctF">UrbanPiperSDK.getOffers(...)</a></code>, api call or a code entered by the user</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">validateCoupon</span><span class="p">(</span><span class="nv">code</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
                           <span class="nv">completion</span><span class="p">:</span> <span class="p">((</span><span class="kt"><a href="../Classes/Order.html">Order</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?,</span>
                           <span class="nv">failure</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">URLSessionDataTask</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>code</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The coupon code to apply</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK13APICompletiona">APICompletion</a></code> with <code><a href="../Classes/Order.html">Order</a></code> object which contains order details and the discount applied to the cart</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>failure</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></code> closure with <code><a href="../Classes/UPError.html">UPError</a></code></p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An instance of URLSessionDataTask</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13UrbanPiperSDK15CheckoutBuilderC11clearCouponyyF"></a>
                    <a name="//apple_ref/swift/Method/clearCoupon()" class="dashAnchor"></a>
                    <a class="token" href="#/s:13UrbanPiperSDK15CheckoutBuilderC11clearCouponyyF">clearCoupon()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>call this function to clear the applied coupon</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">clearCoupon</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13UrbanPiperSDK15CheckoutBuilderC11initPayment13paymentOption10completion7failureSo20NSURLSessionDataTaskCSgAA0gI0O_yAA0G12InitResponseCSgcSgyAA7UPErrorCSgcSgtF"></a>
                    <a name="//apple_ref/swift/Method/initPayment(paymentOption:completion:failure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13UrbanPiperSDK15CheckoutBuilderC11initPayment13paymentOption10completion7failureSo20NSURLSessionDataTaskCSgAA0gI0O_yAA0G12InitResponseCSgcSgyAA7UPErrorCSgcSgtF">initPayment(paymentOption:completion:failure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>API call to initialize a payment in the urbanpiper server before performing a payment for all the payment options except Cash On Delivery, for COD you can skip this function and call directly the <code><a href="../Classes/CheckoutBuilder.html#/s:13UrbanPiperSDK15CheckoutBuilderC10placeOrder7address12deliveryDate0I4Time8timeSlot13paymentOption12instructions5phone10completion7failureSo20NSURLSessionDataTaskCSgAA7AddressCSg_10Foundation0J0VAvA0kM0CSgAA07PaymentO0OS2SyAA0G8ResponseCSgcSgyAA7UPErrorCSgcSgtF">placeOrder(...)</a></code>, API</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">initPayment</span><span class="p">(</span><span class="nv">paymentOption</span><span class="p">:</span> <span class="kt"><a href="../Enums/PaymentOption.html">PaymentOption</a></span><span class="p">,</span>
                        <span class="nv">completion</span><span class="p">:</span> <span class="p">((</span><span class="kt"><a href="../Classes/PaymentInitResponse.html">PaymentInitResponse</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?,</span>
                        <span class="nv">failure</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">URLSessionDataTask</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>paymentOption</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Payment option selected by the user</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK13APICompletiona">APICompletion</a></code> with <code><a href="../Classes/PaymentInitResponse.html">PaymentInitResponse</a></code> containing details on the payment option selected</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>failure</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></code> closure with <code><a href="../Classes/UPError.html">UPError</a></code></p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13UrbanPiperSDK15CheckoutBuilderC10placeOrder7address12deliveryDate0I4Time8timeSlot13paymentOption12instructions5phone10completion7failureSo20NSURLSessionDataTaskCSgAA7AddressCSg_10Foundation0J0VAvA0kM0CSgAA07PaymentO0OS2SyAA0G8ResponseCSgcSgyAA7UPErrorCSgcSgtF"></a>
                    <a name="//apple_ref/swift/Method/placeOrder(address:deliveryDate:deliveryTime:timeSlot:paymentOption:instructions:phone:completion:failure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13UrbanPiperSDK15CheckoutBuilderC10placeOrder7address12deliveryDate0I4Time8timeSlot13paymentOption12instructions5phone10completion7failureSo20NSURLSessionDataTaskCSgAA7AddressCSg_10Foundation0J0VAvA0kM0CSgAA07PaymentO0OS2SyAA0G8ResponseCSgcSgyAA7UPErrorCSgcSgtF">placeOrder(address:deliveryDate:deliveryTime:timeSlot:paymentOption:instructions:phone:completion:failure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>API call to place the order in urbanpiper server</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">placeOrder</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span><span class="p">?,</span>
                       <span class="nv">deliveryDate</span><span class="p">:</span> <span class="kt">Date</span><span class="p">,</span>
                       <span class="nv">deliveryTime</span><span class="p">:</span> <span class="kt">Date</span><span class="p">,</span>
                       <span class="nv">timeSlot</span><span class="p">:</span> <span class="kt">TimeSlot</span><span class="p">?,</span>
                       <span class="nv">paymentOption</span><span class="p">:</span> <span class="kt"><a href="../Enums/PaymentOption.html">PaymentOption</a></span><span class="p">,</span>
                       <span class="nv">instructions</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
                       <span class="nv">phone</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
                       <span class="nv">completion</span><span class="p">:</span> <span class="p">((</span><span class="kt"><a href="../Classes/OrderResponse.html">OrderResponse</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?,</span>
                       <span class="nv">failure</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">URLSessionDataTask</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>address</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Optional. An address object from the user&rsquo;s saved addresses, can be set to nil for <code><a href="../Enums/DeliveryOption.html#/s:13UrbanPiperSDK14DeliveryOptionO6pickUpyA2CmF">DeliveryOption.pickUp</a></code></p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>deliveryDate</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The date of the order delivery</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>deliveryTime</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The time of the order delivery</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>timeSlot</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Optional. The user selected timeSlot, the available timeSlots for a store is returned either in the nearest store object if set on a store by store level or the biz object returned in the nearest store api call</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>paymentOption</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The payment option selected by the user, the payment option needs to be the same as the one passed in the initPayment call if payment option is not cash on delivery</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>instructions</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The instructions to be added to the order</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>phone</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The phone number of the user</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK13APICompletiona">APICompletion</a></code> with <code><a href="../Classes/OrderResponse.html">OrderResponse</a></code> containing the order id, order status etc</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>failure</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></code> closure with <code><a href="../Classes/UPError.html">UPError</a></code></p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An instance of URLSessionDataTask</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@UrbanPiperSDK@objc(cs)CheckoutBuilder(im)verifyPaymentWithPid:completion:failure:"></a>
                    <a name="//apple_ref/swift/Method/verifyPayment(pid:completion:failure:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@UrbanPiperSDK@objc(cs)CheckoutBuilder(im)verifyPaymentWithPid:completion:failure:">verifyPayment(pid:completion:failure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>API call the verify the payment transaction with the UrbanPiper server for <code><a href="../Enums/PaymentOption.html#/s:13UrbanPiperSDK13PaymentOptionO14paymentGatewayyA2CmF">PaymentOption.paymentGateway</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">verifyPayment</span><span class="p">(</span><span class="nv">pid</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
                          <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">((</span><span class="kt"><a href="../Classes/OrderVerifyTxnResponse.html">OrderVerifyTxnResponse</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">),</span> <span class="nv">failure</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">URLSessionDataTask</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>pid</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The payment id from the payment gateway response</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK13APICompletiona">APICompletion</a></code> with <code><a href="../Classes/OrderVerifyTxnResponse.html">OrderVerifyTxnResponse</a></code></p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>failure</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Typealiases.html#/s:13UrbanPiperSDK10APIFailurea">APIFailure</a></code> closure with <code><a href="../Classes/UPError.html">UPError</a></code></p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An instance of URLSessionDataTask</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="https://urbanpiper.com" target="_blank" rel="external">UrbanPiper</a>. All rights reserved. (Last updated: 2019-03-11)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
